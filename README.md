## iOS 커리어 스타터 캠프

### 계산기 프로젝트 저장소

# Step1 

## UML
![](https://i.imgur.com/WBmKFA1.png)
## TDD
- TDD 를 이용하여 단위테스트를 진행하며 최소한의 코드를 추가했다. 
- 기능명세서의 역할을 한다.
## Queue
- 사용자에게 받은 입력값(숫자, 연산자)들을 쌓아놓기 위한 Qeueu를 구현했다. 
- Queue의 종류
    - **배열**
        - FIFO 특성을 가진다. 
        - 스위프트의 배열에서는 먼저 2배씩 늘려놓는다. 
        - 빈 공간에 enQueue()를 수행할 때는 수행속도가 O(1) 로 빠르다
        - 하지만 크기를 늘려야 하는 시점에서는 수행속도가 O(n)이다
        - deQueue() 수행 시, 빠진 배열을 매꿔주어야 해서 수행속도가 O(n) 
    - **연결리스트**
        - 자기자신의 노드와 다음노드를 가리키는 참조정보로 구성된다. 
        - 더블연결리스트의 경우는 여기에 이전노드를 가리키는 참조정보가 추가된다.
        - enQueue() 수행속도는 O(1)이 된다.
        - deQueue() 수행시 배열처럼 재정렬이 필요한 것이 아니므로 수행속도가 O(1)
        - 값, 이전노드참조, 다음노드참조 등을 포함하는 동적할당 때문이 상대적으로 큰 메모리 소모
        - 메모리 접근 시간이 느리다
    - **stack**
        - 배열로 append와 popLast 를 이용하면 stack처럼 사용 가능하다.
        - 나아가, 더블stack이란 FIFO를 구현하고자 할 때 배열에서 생기는 재정렬의 문제를 해결하고자 고안된 방법이다
        - Dequeue 전용 스택과 Enqueu 전용 스택을 만들어서, Enqueue에서 Dequeue로 넘겨줄 땐 reversed()로 반전시켜 넘겨주고 popLast를 하면, 배열의 첫번째 값을 얻고도 재정렬이 필요하지 않게 된다. 
        - 공간복잡도 측면에서도 더블연결리스트 보다 수행이 빠르다. 
        
- 본 프로젝트에서는 **FIFO**방식이 필요하고, 큐 중간에 삽입하거나 삭제하는 과정은 필요하지 않기 때문에, 처음엔 배열을 선택하게 되었는데, deQueue() 수행 시 이루어지는 재정렬 문제를 해결하기 위해 더블stack으로 바꾸어 주었다.

# STEP2

## UML Diagram
![](https://i.imgur.com/xfjdHte.png)

## 구현사항
- **CalculatorItemQueue**
    - Fomula 에서 사용되기 위해 `count` 읽기전용 연산프로퍼티와 `init()` 구문을 추가 해주었다.
- **Fomula**
    - Fomula = 공식 이라는 해석이 되었다. 이 공식이라는 구조체 안에서 연산자 큐 ( oprators ) 와 피연산자 큐 ( operands ) 안의 값들을 이용하여 result 라는 함수에서 전체 계산을 하도록 구현 해주었다.
- **ExpressionParser**
    - string으로 들어온 값을 분리하여 연산자큐 와 피연산자큐 에 나눠 담아주는 작업이 이루어 졌다.
- **Operator**
    - 각 케이스 별로 이루어지는 계산로직을 다르게 실행해줄 수 있도록 `switch - case` 를 이용했다.
- **Extension Double**
    - 이 부분의 역할을 파악하지 못했다.
- **Extension String**
    - 기존의 split 함수는 ``[SubString]`` 을 반환하지만, ``[String]`` 을 반환할 수 있도록 새롭게 만들어 주었다.

## 고민한 점 & 궁금한 점
- force unwrapping
   확실한 경우에 ! 를 사용하는 점에 대해서 고민
- enum 타입의 테스트
    - expressionParser enum 에 대한 테스트를 진행할 때, 초기화구문이 없어 각 테스트케이스 마다의 초기화와 메모리 해제를 해줄 수 없어 어떻게 테스트할지 고민했다. 
        static으로 타입메서드로 만들어 주니 test에서 사용할 수 있었다. 
- 테스트만을 위한 코드
    - 함수를 구현하다 보니, "CalculatorItemQueue" 에서 currenStack 이라는 프로퍼티와 enqueue() 함수는 테스트 코드에서만 사용된다는 것을 깨달았다. 
